<!DOCTYPE html>
<html lang="ru">
<meta charset="UTF-8">
<title>Слово недели</title>
<style>
  body { font-family: sans-serif; text-align: center; margin-top: 10vh; font-size: 4em; }
  small { display: block; margin-top: 1em; font-size: 0.25em; color: #555; }
</style>
<body>
<div id="word"></div>
<small id="info"></small>
<script>
const weeklyWord = () => {
  const words = ['время', 'жизнь', 'слово', 'место', 'конец', 'часть', 'город', 'земля', 'право', 'дверь', 'образ', 'закон', 'война', 'голос', 'число', 'народ', 'форма', 'связь', 'улица', 'вечер', 'мысль', 'месяц', 'школа', 'театр', 'рубль', 'смысл', 'орган', 'рынок', 'семья', 'центр', 'ответ', 'автор', 'стена', 'совет', 'глава', 'наука', 'плечо', 'точка', 'палец', 'номер', 'метод', 'фильм', 'гость', 'кровь', 'район', 'армия', 'класс', 'герой', 'спина', 'сцена', 'объем', 'берег', 'фирма', 'завод', 'песня', 'роман', 'стихи', 'повод', 'успех', 'выход', 'текст', 'пункт', 'линия', 'среда', 'волос', 'ветер', 'огонь', 'грудь', 'страх', 'сумма', 'сфера', 'мужик', 'немец', 'выбор', 'масса', 'слава', 'кухня', 'отдел', 'товар', 'актер', 'слеза', 'прием', 'режим', 'целое', 'вирус', 'налог', 'доход', 'карта', 'акция', 'сосед', 'фраза', 'толпа', 'схема', 'волна', 'птица', 'запах', 'водка', 'поезд', 'адрес', 'лидер', 'стиль', 'весна', 'эпоха', 'запад', 'тайна', 'трава', 'фронт', 'музей', 'князь', 'сутки', 'судья', 'крыша', 'поток', 'честь', 'еврей', 'сотня', 'дождь', 'труба', 'осень', 'черта', 'кусок', 'билет', 'масло', 'экран', 'канал', 'вагон', 'дурак', 'сезон', 'запас', 'длина', 'крыло', 'округ', 'доска', 'полет', 'пакет', 'живот', 'смена', 'порог', 'буква', 'лодка', 'серия', 'шутка', 'кулак', 'нефть', 'цифра', 'сапог', 'жилье', 'мешок', 'отказ', 'замок', 'диван', 'добро', 'покой', 'кость', 'спорт', 'майор', 'отдых', 'ручка', 'мечта', 'сюжет', 'рубеж', 'крест', 'взрыв', 'почва', 'заказ', 'штука', 'сумка', 'хвост', 'песок', 'озеро', 'строй', 'дочка', 'танец', 'набор', 'горло', 'плата', 'катер', 'гиена', 'стопа', 'диета', 'повар', 'мышца', 'изъян', 'юдоль', 'чутье'];
  if (!words.length) return null;

  const d = new Date();
  const daysSinceMon = (d.getUTCDay() + 6) % 7; // Monday=0
  d.setUTCDate(d.getUTCDate() - daysSinceMon);
  d.setUTCHours(0,0,0,0);

  const weekStart = new Date(d);
  const weekEnd = new Date(weekStart.getTime() + 7*864e5);

  const weekIndex = Math.floor(weekStart.getTime() / 604800000);
  const seed = weekIndex >>> 0;
  const rnd = (seed * 1664525 + 1013904223) >>> 0;
  const word = words[rnd % words.length];

  return { word, weekStart, weekEnd };
};

const updateDisplay = () => {
  const { word, weekStart, weekEnd } = weeklyWord();
  const now = new Date();
  const remain = weekEnd - now;
  const days = Math.floor(remain / 86400000);
  const hours = Math.floor(remain % 86400000 / 3600000);
  const mins = Math.floor(remain % 3600000 / 60000);

  document.getElementById("word").textContent = word;
  document.getElementById("info").innerHTML = `
    Неделя: с ${weekStart.toISOString().slice(0,10)} по ${weekEnd.toISOString().slice(0,10)}<br>
    Следующее слово: через ${days}д ${hours}ч ${mins}м
  `;
};

// первый рендер
updateDisplay();
// обновление каждую минуту
setInterval(updateDisplay, 60000);
</script>
</body>
</html>
